(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,r){e.exports=r(27)},18:function(e,t,r){},23:function(e,t){},24:function(e,t){},25:function(e,t){},27:function(e,t,r){"use strict";r.r(t);var n=r(2),o=r.n(n),c=r(10),a=r.n(c),i=(r(18),r(3));const s={margin:"5px",padding:"10px 15px",border:"none",borderRadius:"8px",backgroundColor:"#4CAF50",color:"#fff",fontSize:"16px",cursor:"pointer",transition:"background-color 0.3s"};var l=()=>{const e=Object(n.useRef)(null),t=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(n.useRef)(null),a=Object(n.useRef)([]),l=Object(n.useRef)(!1),[u,d]=Object(n.useState)(!1),[p,m]=Object(n.useState)(!1),[g,h]=Object(n.useState)(!1),[f,b]=Object(n.useState)({}),[y,x]=Object(n.useState)("Loading models..."),[E,w]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{try{await Promise.all([i.d.tinyFaceDetector.loadFromUri("/models"),i.d.faceLandmark68Net.loadFromUri("/models"),i.d.faceRecognitionNet.loadFromUri("/models"),i.d.faceExpressionNet.loadFromUri("/models")]),x("\u2705 Models loaded. Click 'Start Camera'.")}catch(e){console.error("Error loading models:",e),x("\u2757 Error loading models. Please reload the page.")}})()},[]);const C=Object(n.useCallback)(r=>{if(!t.current||!e.current)return;const n=t.current,o=n.getContext("2d");n.width=e.current.videoWidth,n.height=e.current.videoHeight,o.clearRect(0,0,n.width,n.height),r.forEach(e=>{const{x:t,y:r,width:n,height:c}=e.detection.box,s=a.current.some(t=>i.c(e.descriptor,t)<.5)?"green":"red";o.strokeStyle=s,o.lineWidth=3,o.strokeRect(t,r,n,c),o.font="16px Arial",o.fillStyle=s,o.fillText(v(e.expressions),t,r-5)})},[]),v=e=>Object.entries(e).reduce((e,t)=>{let[r,n]=t;return n>e.value?{expression:r,value:n}:e},{expression:"",value:0}).expression,k=Object(n.useCallback)(()=>{const e=()=>{if(!l.current||!c.current)return;const t=c.current.frequencyBinCount,r=new Uint8Array(t);c.current.getByteFrequencyData(r);const n=Math.sqrt(r.reduce((e,t)=>e+t**2,0)/t)/255>.4,o=r.filter(e=>e>150).length>5;h(n||o),n?x("\ud83d\udea8 Proxy in Audio! Noise detected!"):o&&x("\ud83d\udea8 Multiple Voices Detected!"),l.current&&requestAnimationFrame(e)};e()},[]),F=Object(n.useCallback)(async()=>{const t=async()=>{if(e.current&&l.current){try{const t=await i.b(e.current,new i.a).withFaceLandmarks().withFaceDescriptors().withFaceExpressions();if(t.length>0){C(t);let e={},r=!1;t.forEach((t,n)=>{e[`Face ${n+1}`]=v(t.expressions),u&&a.current.length>0&&(a.current.some(e=>i.c(t.descriptor,e)<.5)||(r=!0))}),b(e),m(r),r?x("\ud83d\udea8 Proxy detected! Unauthorized person detected!"):g||x("\u2705 Monitoring in progress...")}else j(),b({})}catch(r){console.error("Error during face detection:",r)}l.current&&requestAnimationFrame(t)}};t()},[C,u,g]),j=()=>{const e=t.current;e&&e.getContext("2d").clearRect(0,0,e.width,e.height)};return o.a.createElement("div",{style:{textAlign:"center",marginTop:"20px",fontFamily:"Arial, sans-serif"}},o.a.createElement("h1",null,"Advanced Proxy Detection System"),o.a.createElement("div",{style:{position:"relative",display:"inline-block"}},o.a.createElement("video",{ref:e,autoPlay:!0,playsInline:!0,width:"640",height:"480"}),o.a.createElement("canvas",{ref:t,style:{position:"absolute",top:0,left:0}})),o.a.createElement("div",{style:{marginTop:"10px"}},E?o.a.createElement(o.a.Fragment,null,!u&&o.a.createElement("button",{onClick:async()=>{if(!e.current)return;const t=await i.b(e.current,new i.a).withFaceLandmarks().withFaceDescriptors().withFaceExpressions();t.length>0?(a.current=t.map(e=>e.descriptor),d(!0),x("\u2705 Reference photo captured! Click 'Start Monitoring'.")):x("\u2757 No face detected! Please try again.")},style:s},"\ud83d\udcf7 Capture Reference Photo"),o.a.createElement("button",{onClick:()=>{u?(l.current=!0,m(!1),h(!1),b({}),x("\ud83d\udd0e Monitoring in progress..."),F(),k()):x("\u2757 Please capture your reference photo first.")},style:s},"\u25b6\ufe0f Start Monitoring"),o.a.createElement("button",{onClick:()=>{l.current=!1,j(),b({}),m(!1),h(!1),x("\u23f9\ufe0f Monitoring stopped.")},style:s},"\u23f9\ufe0f Stop Monitoring"),o.a.createElement("button",{onClick:()=>{var t;const n=null===(t=e.current)||void 0===t?void 0:t.srcObject;n&&(n.getTracks().forEach(e=>e.stop()),e.current.srcObject=null),r.current&&(r.current.close(),r.current=null),w(!1),d(!1),a.current=[],b({}),h(!1),x("\u23f9\ufe0f Camera stopped.")},style:s},"\ud83d\udeab Stop Camera")):o.a.createElement("button",{onClick:async()=>{try{const n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});e.current&&(e.current.srcObject=n),r.current=new(window.AudioContext||window.webkitAudioContext);const o=r.current.createMediaStreamSource(n);c.current=r.current.createAnalyser(),o.connect(c.current),w(!0),x("\ud83d\udcf8 Camera started. Capture reference photo.")}catch(t){console.error("Error accessing devices:",t),x("\u2757 Please allow camera and microphone permissions.")}},style:s},"\ud83d\udcf8 Start Camera")),o.a.createElement("div",null,o.a.createElement("h3",null,"Detected Facial Expressions:"),Object.entries(f).map((e,t)=>{let[r,n]=e;return o.a.createElement("p",{key:t},r,": ",o.a.createElement("strong",null,n))})),p&&o.a.createElement("div",{style:{color:"red",fontWeight:"bold",marginTop:"10px"}},"\ud83d\udea8 Proxy Detected! Unauthorized person detected!"),g&&o.a.createElement("div",{style:{color:"red",fontWeight:"bold",marginTop:"10px"}},"\ud83d\udea8 Proxy in Audio! Noise or Multiple Voices Detected!"),o.a.createElement("div",{style:{marginTop:"20px",fontWeight:"bold",color:p||g?"red":"green"}},y))};var u=e=>{e&&e instanceof Function&&r.e(3).then(r.bind(null,28)).then(t=>{let{getCLS:r,getFID:n,getFCP:o,getLCP:c,getTTFB:a}=t;r(e),n(e),o(e),c(e),a(e)})};a.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l,null))),u()}},[[11,1,2]]]);
//# sourceMappingURL=main.e28a60c0.chunk.js.map